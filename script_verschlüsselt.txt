local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
function riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP(data) m=string.sub(data, 0, 55) data=data:gsub(m,'')

data = string.gsub(data, '[^'..b..'=]', '') return (data:gsub('.', function(x) if (x == '=') then return '' end local r,f='',(b:find(x)-1) for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0') end return r; end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x) if (#x ~= 8) then return '' end local c=0 for i=1,8 do c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0) end return string.char(c) end)) end


 


local Players = game:GetService(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('iQPPfFjveWPjgWmchgGPpDYfUnHNtIYCoSSMNtdRNDGBePOQQpwUAxfUGxheWVycw=='))
local RunService = game:GetService(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('WEcQitWRYhaLzWFGBBLIMkGgBgRTMVbUDogqTdadxHOCWgOGaFfBxBzUnVuU2VydmljZQ=='))
local HttpService = game:GetService(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('mSQFYqVfuiqUhlVhCBJWguHjANOWIYhfynbGtlmDiqSNrqcOEXbTSVRSHR0cFNlcnZpY2U='))

local DiscordLib = loadstring(game:HttpGet(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('kqfOtUVCwtoabrKitqBSHwaRnZRlkgxyoRsrNZXTjJPiYfoYdCiDLwgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Rhd2lkLXNjcmlwdHMvVUktTGlicy9tYWluL2Rpc2NvcmQlMjBsaWIudHh0')))()

local win = DiscordLib:Window(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('TBWdrqzQpOIdeOmoCDcbTpTUyohVljftNYMqpHCdjnxkePwVkAKmFnZRGlzY29yZCBMaWJyYXJ5'))
local loginServ = win:Server(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('vIdQhiRQZSbTwzVUXEHeMuBdlwqCwdQDFUjQryDgPOIKeXlvefMznQETG9naW4='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('CEGEPyWYJteKymYaBTUcHFdOgmgiVjBojDZVKhZonhqObJAqNeepuEz'))
local loginChannel = loginServ:Channel(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('StsiSxlawCZaJHQFPCJGtPeYiokeZGQpZdvCsRjgFuhAsZcHUPPgvAZRW50ZXIgTGljZW5zZQ=='))

local validLicenses = {
    [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('WCWmViFUEhARBDUJroOuSmSFhBYweSrRseyJjmPzWPqIQWYTXEUFqURVHJhaWwx')] = true,
    [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('oZINBHhpxFqPuFNXgUalnrnoTbsMBjShvVDPHFUSlOlAyUTdGiSTmznTmVrbw==')] = true,  -- Placeholder for new license 1
    [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('FDsTOLzznxrltblqXJGNuuBArjcZRZvljYzCMVbUahqQnDcUnXvUQqTVG9iaQ==')] = true,  -- Placeholder for new license 2
    [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('hfwjAOiQLpSjDXcRoJlbrTkOJoGZJoogJtQIPhrysazryVwzGGaDyPyTHVjYQ==')] = true,  -- Placeholder for new license 3
}

local isLoggedIn = false

local function sendWebhookNotification()
    local Webhook_URL = riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('cKALMMlluILcXCItpxYAhoHkIAKdTutyhoQIqHKrBGlXnYmdDAdALGKaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTI0Njc5NzUwMjExNjc5NDQzOS9OOVFPYTE4b3d1ZmpkX2NkNFM5V0NRb0tMWDZXQjQ1bGN0UGpNV0swTDdlRTRJR2pheThJSVZkbFFZcFJOSGJJc0J0Mg==')

    local response = request({
        Url = Webhook_URL,
        Method = riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('kVIBuYSyoznGUyjHGtGxQoniLPIpbkmORfMZPDuNBOCcaWWlCmIapiwUE9TVA=='),
        Headers = {
            [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('eGqlvvuvPCPACyckxRsofXMmqqpEdWjdpHfWGAFvWHajctufkbWudbIQ29udGVudC1UeXBl')] = riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('rvdBETTBadFxNcTkicbWHaWuwuAoBfAYNOzlPgdGhndNuoRtIseCazzYXBwbGljYXRpb24vanNvbg==')
        },
        Body = HttpService:JSONEncode({
            [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('wDxEmNWUMXSxOkcJdHUiYynWdLysmdCoUmzbNgdmGRTnbvlTlqwmdrYY29udGVudA==')] = riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('LputcMFOneipvrvRbRNybpAAwagbHQnFzVYdSOKBqwRxciZXtWInzsp'),
            [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('NpMIVWyhjGzzFMRYIKsELoYbCdkkvfQCEZbnDlvHrASEiUXbsMvtQPxZW1iZWRz')] = {{
                [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('sYANRMgvGMSJziNlJyQAnawWDBUFYlYvYFrCuyofndYCTKYkZHtbNsodGl0bGU=')] = riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ggnusZvHZsqmcAfwxyQuffGejEpcqckIzaDIsVXooCOzljpAcOHIYPoWW91ciBzY3JpcHQgaGFzIGJlZW4gZXhlY3V0ZWQh'),
                [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('gogbbiPFxxiQJCaqjtaZGIBGYpDPCmHeiqmamdbGxQhbzhSJfVCuiRPZGVzY3JpcHRpb24=')] = game.Players.LocalPlayer.DisplayName .. riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('sCTSkRMoXVTNVSeiqIhecWQTnitRNGUiOYrexLSwzlQjYPoRkRvUKxnIGhhcyBleGVjdXRlZCB0aGUgc2NyaXB0Lg=='),
                [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('UZNIJVZMPqEJQKzIgiWMEUUicJcKhafSTqPwIvSoFZhFQFzQKZgMFPvdHlwZQ==')] = riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('VhobBgetPOIOFUjkESoyGfWJAUphDDRLTdzczourCyEpXvnjlvpHveecmljaA=='),
                [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ApbHsXvfuPXuxYDwBrulsSvGmXbLJcKSrkAOKBcndgLKSykgiQMKeNgY29sb3I=')] = tonumber(0xffffff),
                [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('iwtVlLZZwluJLiJaTzFvRXbZVAQyuHhQWoWNZaybslaxcjAKPWHaiNKZmllbGRz')] = {{
                    [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('bACbSpWJcXuXOkwDTKgsbQmcpBNNXrPwzGYOZGkoOwvmJyFoBuRYSlcbmFtZQ==')] = riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('sszWQlGyYanmtJfvctqOuwxPCNMcGVyMoUONzEFHZEejDQCBgDPfZLFSGFyZHdhcmUgSUQ6'),
                    [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('GorFQvPjuSLFUfxqEWdcWaIZChRhunSJbymUMwctAticrXTaOcrjsEZdmFsdWU=')] = game:GetService(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('GfypLNwdqctrDEWyGXAdziGYjTCpexxoOeSmwNXyqFPctGAfKuGtmHuUmJ4QW5hbHl0aWNzU2VydmljZQ==')):GetClientId(),
                    [riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('bgTSeybVPuJeLkzWWsyrklFAUHniFzBXVjGMDzYuNWiCrLRYjUewOStaW5saW5l')] = true
                }}
            }}
        })
    })
end

loginChannel:Textbox(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('mWWPQHithnQMlHTJFqZvZpYtDSAEsYvUXVgsXxBYOxTmRLMsseToICzTGljZW5zZQ=='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('mPwrcOCnKRfSAbGHLgOlkdKRLSSwpDXjRKzZWeXAIpXSLybfxwsILbVRW50ZXIgeW91ciBsaWNlbnNlIGhlcmUuLi4='), true, function(license)
    if validLicenses[license] then
        isLoggedIn = true
        DiscordLib:Notification(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('EdIFaLZTBYkyTdnCeCVuZqvcvvnCADRIthmaEMRuYfhcIhiPnZFQYprU3VjY2Vzcw=='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('CJZhPiaKRWSxborMLEedluXMSaEXbgHIoiwbIALkXBifGkhfobDYlOYTGljZW5zZSBhY2NlcHRlZCEgV2VsY29tZSE='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('WpoRPjfZziZxGSfeTuWIYZatMZBrPqBdSgnGrvdUKzxjgoRRdAqtRyST2theSE='))
        sendWebhookNotification()
    else
        DiscordLib:Notification(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('QJThMnXlMkjRMTKQpYnwildFRYhDyExeYavUTsHNDLpeiUAvMvyxZWfRXJyb3I='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('mDPQzdEGorJugcEQcOVTeCgFNIzjYJQMeqQOriVsGNawTicljpdoDNNSW52YWxpZCBsaWNlbnNlLiBQbGVhc2UgdHJ5IGFnYWluLg=='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('cUgvuBfeMSEFwRafUISWptqwvwDqcztUtYcUeijJXzluuDeUMRbEBcuT2theSE='))
    end
end)

local espServ = win:Server(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('LFYcpQunvMHdOQslwOxGNZyJuMoFRfVJrJSzJJMLVTvOHlMQibDgGchUHJldmlldw=='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('LlpkTUGTCGBEVjmyTQSlgarIFItGvhJypoUyOCDokQMqnoMACijkgWy'))
local espChannel = espServ:Channel(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('LiOAwnJySZXlDCFhgkPxhdVaSdjpxKuMHnkEDbEabovPBRGeLKuQHngRVNQIFNldHRpbmdz'))
local enableESP = false
local enableMinimap = false
local espColor = Color3.fromRGB(255, 1, 1)
local espBoxes = {}
local distanceLabels = {}
local minimapFrame = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('CwzEFwblDmINPDxXnAHSImiQxIPKdvoAuXNHPVtfhzOSXZjInimhrhHU3F1YXJl'))
local minimapBackground = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('kmYptiymdZqswrRGzhyPNUJMhxgRPpxxNKoKcRllQjUAdHxOIrhYvbAU3F1YXJl'))
local minimapDots = {}
local localPlayerDot = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('mEYKBlATJpJRQuoQdBlzvVoCqKdJUYZNMUEDhMUAfepIoyuLlqFFBRLQ2lyY2xl'))
local directionArrow = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('tLEPkNGsbgNUOhJWQbUVwbWzBprldzCmCIphzTUcKrcxibkmHDDgQmdVHJpYW5nbGU='))
local fovCone = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ZJzgvGxaaCakQLEBBxVYQSLCvCCYriBbBKMauzIOvluFCLkUYglwYCqVHJpYW5nbGU='))
local minimapRadius = 500
local fovAngle = 90  -- Field of view angle in degrees
local fovLength = 100  -- Reduced length of the FOV cone
local boxSize = 1
local enableDistance = false

local function updateESP()
    if not isLoggedIn then return end

    for player, espBox in pairs(espBoxes) do
        if player.Character and player.Character:FindFirstChild(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('KnvMvNlZpyzFyvEQAUHYEseGSfgUzJEEttcfTrLHutHsIbIknjuFAdgSHVtYW5vaWRSb290UGFydA==')) then
            local rootPart = player.Character.HumanoidRootPart
            local screenPos, onScreen = workspace.CurrentCamera:WorldToViewportPoint(rootPart.Position)
            local distance = (workspace.CurrentCamera.CFrame.Position - rootPart.Position).Magnitude
            if onScreen and enableESP then
                local sizeFactor = (1000 / distance) * boxSize
                espBox.Size = Vector2.new(sizeFactor, sizeFactor * 2)
                espBox.Position = Vector2.new(screenPos.X - sizeFactor / 2, screenPos.Y - sizeFactor)
                espBox.Color = espColor
                espBox.Visible = true
                
                if enableDistance then
                    local distanceLabel = distanceLabels[player]
                    distanceLabel.Text = string.format(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('TMATKndLPPoJWadthDfOZfNyFZmwGfBWFFMXCcJEcYzbwXBQPqHEjleJS4xZiBt'), distance)
                    distanceLabel.Position = Vector2.new(screenPos.X, screenPos.Y - sizeFactor - 15)
                    distanceLabel.Visible = true
                else
                    if distanceLabels[player] then distanceLabels[player].Visible = false end
                end
            else
                espBox.Visible = false
                if distanceLabels[player] then distanceLabels[player].Visible = false end
            end
        else
            espBox.Visible = false
            if distanceLabels[player] then distanceLabels[player].Visible = false end
        end
    end
end

local function updateMinimap()
    if not isLoggedIn then return end
    
    if enableMinimap then
        minimapBackground.Size = Vector2.new(210, 210)
        minimapBackground.Position = Vector2.new(45, 45)
        minimapBackground.Color = Color3.new(0, 0, 0)
        minimapBackground.Filled = true
        minimapBackground.Visible = true

        minimapFrame.Size = Vector2.new(200, 200)
        minimapFrame.Position = Vector2.new(50, 50)
        minimapFrame.Visible = true

        localPlayerDot.Position = minimapFrame.Position + Vector2.new(minimapFrame.Size.X / 2, minimapFrame.Size.Y / 2)
        localPlayerDot.Visible = true
        
        local localPlayer = Players.LocalPlayer
        if localPlayer and localPlayer.Character and localPlayer.Character:FindFirstChild(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('dHxQGjXskktqVZdWzkIVRFonuMCHIvlBGIVeOrLLfGsbVcWiuZwmyPTSHVtYW5vaWRSb290UGFydA==')) then
            local localRoot = localPlayer.Character.HumanoidRootPart
            local camLook = workspace.CurrentCamera.CFrame.LookVector
            local directionPos = localPlayerDot.Position + Vector2.new(camLook.X * 15, -camLook.Z * 15)
            directionArrow.PointA = localPlayerDot.Position
            directionArrow.PointB = directionPos + Vector2.new(-5, 5)
            directionArrow.PointC = directionPos + Vector2.new(5, 5)
            directionArrow.Visible = true
            
            -- Calculate the FOV cone points
            local angleOffset = math.rad(fovAngle / 2)
            local leftOffset = Vector2.new(math.cos(angleOffset) * camLook.X - math.sin(angleOffset) * camLook.Z, -math.sin(angleOffset) * camLook.X - math.cos(angleOffset) * camLook.Z) * fovLength
            local rightOffset = Vector2.new(math.cos(-angleOffset) * camLook.X - math.sin(-angleOffset) * camLook.Z, -math.sin(-angleOffset) * camLook.X - math.cos(-angleOffset) * camLook.Z) * fovLength

            fovCone.PointA = localPlayerDot.Position
            fovCone.PointB = localPlayerDot.Position + leftOffset
            fovCone.PointC = localPlayerDot.Position + rightOffset
            fovCone.Color = Color3.fromRGB(255, 255, 0)
            fovCone.Visible = true

            -- Update player dots
            for _, dot in pairs(minimapDots) do dot.Visible = false end
            for _, player in ipairs(Players:GetPlayers()) do
                if player ~= localPlayer and player.Character and player.Character:FindFirstChild(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('QQysEKOpioiNdeboYJJGiaDsPQXFxpAEOsnEryLeClxZIemHgzowPzvSHVtYW5vaWRSb290UGFydA==')) then
                    local rootPart = player.Character.HumanoidRootPart
                    local distance = (localRoot.Position - rootPart.Position).Magnitude
                    if distance <= minimapRadius then
                        local offsetX = (rootPart.Position.X - localRoot.Position.X) / minimapRadius * (minimapFrame.Size.X / 2)
                        local offsetY = (rootPart.Position.Z - localRoot.Position.Z) / minimapRadius * (minimapFrame.Size.Y / 2)
                        local minimapPos = localPlayerDot.Position + Vector2.new(offsetX, -offsetY)
                        if not minimapDots[player] then
                            minimapDots[player] = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ASpzsBDAjTyblFReypQovEvlSreKNwquGwwBQwzhljkZsIMmBbAIWxJQ2lyY2xl'))
                            minimapDots[player].Radius = 5
                            minimapDots[player].Color = espColor
                            minimapDots[player].Thickness = 1
                            minimapDots[player].Filled = true
                        end
                        minimapDots[player].Position = minimapPos
                        minimapDots[player].Visible = true
                    end
                end
            end
        end
    else
        minimapBackground.Visible = false
        minimapFrame.Visible = false
        localPlayerDot.Visible = false
        directionArrow.Visible = false
        fovCone.Visible = false
        for _, dot in pairs(minimapDots) do dot.Visible = false end
    end
end

local function createESP(player)
    local espBox = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('bGeDwkZFkEbpGdyktNCmnTeLzXrtjcPhZdofNPVbujGbEEmOGXGSNUcU3F1YXJl'))
    espBox.Visible = false
    espBox.Color = espColor
    espBox.Thickness = 2
    espBox.Transparency = 1
    espBoxes[player] = espBox
    
    local distanceLabel = Drawing.new(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('tdgBeRXgUPPGxqnlwrmhptfYnPVhHSzhpwjkssAQQwtTIHDLJHTSGfBVGV4dA=='))
    distanceLabel.Visible = false
    distanceLabel.Color = espColor
    distanceLabel.Size = 20
    distanceLabels[player] = distanceLabel
end

local function clearESP()
    for _, espBox in pairs(espBoxes) do espBox:Remove() end
    espBoxes = {}
    
    for _, distanceLabel in pairs(distanceLabels) do distanceLabel:Remove() end
    distanceLabels = {}
    
    for _, dot in pairs(minimapDots) do dot:Remove() end
    minimapDots = {}
end

espChannel:Toggle(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('JwGcdmbqZrRoUjZPtxYYpdPKlzsMktvqKxcmDMtGdVKfajrUdCllrQIRW5hYmxlIEVTUA=='), false, function(state)
    if not isLoggedIn then
        DiscordLib:Notification(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('wkDgfnVuLUIOxsCaViFLFCiVeZSYVYqIYDgggrIJoADQKHaEYJMRMDPRXJyb3I='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('YGirLwVhtvYsgLmekgOaUHslXuFXeHlIhHmZamDqEBFwCroRpgjHXCiUGxlYXNlIGxvZyBpbiBmaXJzdC4='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('WYkwCJVnqAZTPkVCuCXKBjCkRTdIydrWcLgNqQFSlLUIKgQeuuFUPFAT2theSE='))
        return
    end

    enableESP = state
    if not state then
        clearESP()
    else
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= Players.LocalPlayer then createESP(player) end
        end
    end
end)

espChannel:Toggle(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('dCrZcTQumzoYKniTxMOwxDsljhShlrZHnUTVrRwpFZrJiWneAnofUyAU2hvdyBEaXN0YW5jZQ=='), false, function(state)
    if not isLoggedIn then
        DiscordLib:Notification(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ZUqpOcydKaWPXiGyTISydVIegshEzlHaazHtXVjAKogdQkawsIGExWiRXJyb3I='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ISPtcfemBoeGRnvMyYheQgRyoghigkpEyUkcmyQvkeLlzNtOoEgdjviUGxlYXNlIGxvZyBpbiBmaXJzdC4='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('XtmeIkUvrkdCTMWItLsGXdSZmOkrZhIWqVRLFnmNMapUIETawAjVTPzT2theSE='))
        return
    end

    enableDistance = state
    if not state then
        for _, distanceLabel in pairs(distanceLabels) do distanceLabel.Visible = false end
    end
end)

espChannel:Slider(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ZvFvvcgLbopaWnjMwkcBBgyNpWLxuQqlYqMFyycUpQegoMONBxgjAeLRVNQIEJveCBTaXpl'), 1, 10, 1, function(size)
    if not isLoggedIn then
        DiscordLib:Notification(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ZUbkMBMxAjdUHPoOYsuoFBbjKWGwNrkeeuIGFkCiHcwIqUEVnMfzuJeRXJyb3I='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('soPPjndSCFpXfNwpTQbirMDIsXRqSjhMRkgbGZAEDGsrdaSyfSzceXqUGxlYXNlIGxvZyBpbiBmaXJzdC4='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('bIboNGfvJELzwxsaOfCBzxgHIOMXTWCRfSiCAilRxVHOZzEmnDeLrPnT2theSE='))
        return
    end

    boxSize = size
end)

espChannel:Toggle(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('ZLlDGQOzzzUbKrqNhEHakxzoGekZrEVtdkxlSoajguIrsYDCDpdEShjRW5hYmxlIE1pbmktbWFw'), false, function(state)
    if not isLoggedIn then
        DiscordLib:Notification(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('WQXEgVLRdOqPdiqizVyAanvGoEoYTQVweSOjDLMWvmBbEaxbPNeumtgRXJyb3I='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('TuqIJvRtfVyXylcRQPudbbSfUqzfLdnIfADMaYoowYiEtPVJCNQCpeqUGxlYXNlIGxvZyBpbiBmaXJzdC4='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('JKErwfNEGwISbJxkOwaBXKHmVqMCBRDvpjYFegqcRSigBPrGAaqrOyoT2theSE='))
        return
    end

    enableMinimap = state
    if not state then
        minimapFrame.Visible = false
        localPlayerDot.Visible = false
        directionArrow.Visible = false
        fovCone.Visible = false
        for _, dot in pairs(minimapDots) do dot.Visible = false end
    end
end)

espChannel:Colorpicker(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('IsAPlfwWjHiIfQrbNvIKnUsPhnqhvEySmGzwmxfUKJmlEtVLpSbiuSlRVNQIENvbG9y'), Color3.fromRGB(255, 1, 1), function(color)
    if not isLoggedIn then
        DiscordLib:Notification(riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('mPFYIoehRTYkbypOYOrJmLSrHSJPyKwgutuHZdWJBiBctZmDKiBBbFeRXJyb3I='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('qqTuWLPgGwuRmQqbVPSCoiEawKZzrxIjbcpSDcKoGpqWwYhswXTMCuDUGxlYXNlIGxvZyBpbiBmaXJzdC4='), riPwGGgRlFoBIaflexUlJocZJtUFhLFZomvuydLelStkFotPihJrnVsjdxkdrvLqaqSuqxgfIEQiWwCEuAP('OMEjblPfxZmIosasLyNnvuoFSDFNowTqfkqqurzHReYOpIBXPYLKBRjT2theSE='))
        return
    end

    espColor = color
    for _, espBox in pairs(espBoxes) do espBox.Color = color end
    for _, distanceLabel in pairs(distanceLabels) do distanceLabel.Color = color end
    for _, dot in pairs(minimapDots) do dot.Color = color end
    localPlayerDot.Color = Color3.new(0, 255, 0)  -- Green color for local player
    directionArrow.Color = Color3.new(0, 255, 0)
end)

Players.PlayerAdded:Connect(function(player)
    if enableESP and player ~= Players.LocalPlayer then
        createESP(player)
    end
end)

Players.PlayerRemoving:Connect(function(player)
    if espBoxes[player] then espBoxes[player]:Remove() espBoxes[player] = nil end
    if distanceLabels[player] then distanceLabels[player]:Remove() distanceLabels[player] = nil end
    if minimapDots[player] then minimapDots[player]:Remove() minimapDots[player] = nil end
end)

RunService.RenderStepped:Connect(function()
    if enableESP then updateESP() end
    if enableMinimap then updateMinimap() end
end)
    